<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YÄ±lmaz Karabulut Oyun</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background:#000; color:#fff; text-align:center; }
h1,h2 { color:#0d6efd; }
#name-screen { position:fixed;top:0;left:0;width:100%;height:100%;background:#000;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:500; }
#name-screen input { padding:10px; font-size:16px; margin-top:10px; }
#name-screen button { margin-top:10px; padding:10px 20px; background:#0d6efd; color:#fff; border:none; border-radius:5px; cursor:pointer; }
#game-area { position:relative; width:90%; max-width:400px; height:400px; background:#111; border:2px solid #0d6efd; margin:20px auto; overflow:hidden; border-radius:10px; }
#player { position:absolute; bottom:10px; left:175px; width:50px; height:50px; background:lime; border-radius:50%; transition:left 0.05s linear; }
.falling { position:absolute; top:0; width:30px; height:30px; border-radius:50%; }
.coin { background:gold; box-shadow:0 0 15px gold; }
.enemy { background:red; box-shadow:0 0 15px red; }
.bonus { background:cyan; box-shadow:0 0 15px cyan; }
.health-bar { width:100%; background:#555; height:20px; border-radius:10px; margin-bottom:10px; }
.health-inner { width:100%; height:100%; background:red; }
#game-overlay { position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); color:#fff; display:flex; flex-direction:column; justify-content:center; align-items:center; font-size:2em; border-radius:10px; display:none; z-index:100; }
#mobile-controls { display:flex; justify-content:center; gap:20px; margin-top:10px; }
.mobile-btn { width:60px; height:60px; font-size:24px; border:none; border-radius:50%; background:#0d6efd; color:#fff; cursor:pointer; }
.mobile-btn:active { background:#0a58ca; }
</style>
</head>
<body>

<div id="name-screen">
  <h2>Oyuncu AdÄ±nÄ±zÄ± Girin</h2>
  <input type="text" id="player-name-input" placeholder="Ä°sminizi yazÄ±n">
  <button id="save-name-btn">BaÅŸla</button>
</div>

<h1>YÄ±lmaz Karabulut Oyun</h1>

<div id="game-area">
  <div id="player"></div>
  <div id="game-overlay">
    <div id="overlay-message">Kaybettiniz ðŸ˜¢</div>
    <button id="restart-btn">Yeniden BaÅŸlat</button>
  </div>
</div>

<div class="health-bar"><div id="health-inner"></div></div>
<p>Puan: <span id="score-display">0</span> | Para: <span id="money-display">100</span> | Zaman: <span id="time-display">0</span>s</p>

<div id="mobile-controls">
  <button id="left-btn" class="mobile-btn">â—€</button>
  <button id="right-btn" class="mobile-btn">â–¶</button>
</div>

<audio id="hit-sound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="gameover-sound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="bg-music" src="https://actions.google.com/sounds/v1/ambiences/forest_ambience.ogg" loop></audio>

<script>
let player=document.getElementById('player');
let gameArea=document.getElementById('game-area');
let scoreDisplay=document.getElementById('score-display');
let moneyDisplay=document.getElementById('money-display');
let timeDisplay=document.getElementById('time-display');
let overlay=document.getElementById('game-overlay');
let overlayMessage=document.getElementById('overlay-message');
let restartBtn=document.getElementById('restart-btn');
let healthInner=document.getElementById('health-inner');
let hitSound=document.getElementById('hit-sound');
let gameOverSound=document.getElementById('gameover-sound');
let bgMusic=document.getElementById('bg-music');

let score=0,money=100,time=0,health=100,gameActive=false,fallingObjects=[],difficultyMultiplier=1;
let playerName="",playerPos=175,keys={};

document.getElementById('save-name-btn').addEventListener('click',()=>{
  let val=document.getElementById('player-name-input').value.trim();
  playerName=val?val:"Oyuncu";
  document.getElementById('name-screen').style.display='none';
  startGame();
});

document.addEventListener('keydown',e=>{ keys[e.key.toLowerCase()]=true; });
document.addEventListener('keyup',e=>{ keys[e.key.toLowerCase()]=false; });

document.getElementById('left-btn').addEventListener('touchstart',()=>{ keys['a']=true; });
document.getElementById('left-btn').addEventListener('touchend',()=>{ keys['a']=false; });
document.getElementById('right-btn').addEventListener('touchstart',()=>{ keys['d']=true; });
document.getElementById('right-btn').addEventListener('touchend',()=>{ keys['d']=false; });

restartBtn.addEventListener('click',()=>{ overlay.style.display='none'; startGame(); });

function startGame(){
  score=0; money=100; time=0; health=100; difficultyMultiplier=1; gameActive=true; fallingObjects=[]; playerPos=175;
  player.style.left=playerPos+'px';
  scoreDisplay.textContent=score; moneyDisplay.textContent=money; timeDisplay.textContent=time;
  healthInner.style.width='100%';
  overlay.style.display='none';
  bgMusic.currentTime=0; bgMusic.play();
  requestAnimationFrame(gameLoop);
}

function spawnObject(){
  let objType=Math.random();
  let obj=document.createElement('div');
  obj.classList.add('falling');
  obj.style.left=Math.random()*370+'px';
  obj.style.top='0px';
  if(objType<0.6) obj.classList.add('coin');
  else if(objType<0.9) obj.classList.add('enemy');
  else obj.classList.add('bonus');
  gameArea.appendChild(obj);
  fallingObjects.push(obj);
}

function gameLoop(){
  if(!gameActive) return;
  time++; timeDisplay.textContent=time;

  if(keys['a'] && playerPos>0) playerPos-=5;
  if(keys['d'] && playerPos<350) playerPos+=5;
  player.style.left=playerPos+'px';

  if(Math.random()<0.02*difficultyMultiplier) spawnObject();

  for(let i=fallingObjects.length-1;i>=0;i--){
    let obj=fallingObjects[i];
    obj.style.top=parseInt(obj.style.top)+2*difficultyMultiplier+'px';
    if(parseInt(obj.style.top)+30>=350 && parseInt(obj.style.left)+30>playerPos && parseInt(obj.style.left)<playerPos+50){
      if(obj.classList.contains('coin')){ score+=10; money+=5; }
      if(obj.classList.contains('enemy')){ health-=20; hitSound.play(); healthInner.style.width=health+'%'; }
      if(obj.classList.contains('bonus')){ money+=20; score+=20; }
      obj.remove(); fallingObjects.splice(i,1);
    } else if(parseInt(obj.style.top)>400){ obj.remove(); fallingObjects.splice(i,1); }
  }

  scoreDisplay.textContent=score;
  moneyDisplay.textContent=money;

  if(health<=0){ endGame(); return; }
  difficultyMultiplier+=0.0005;
  requestAnimationFrame(gameLoop);
}

function endGame(){
  gameActive=false;
  overlayMessage.textContent='Kaybettiniz ðŸ˜¢';
  overlay.style.display='flex';
  gameOverSound.play();
  bgMusic.pause();
}
</script>

</body>
</html>
